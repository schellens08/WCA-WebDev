!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[GoogleMap]",["react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[GoogleMap]"]=t(require("react")):e["rb_wixui.thunderbolt[GoogleMap]"]=t(e.React)}("undefined"!=typeof self?self:this,(function(e){return function(){var t={40841:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},5329:function(t){"use strict";t.exports=e},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},66820:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/";var o={};return function(){"use strict";r.r(o),r.d(o,{components:function(){return D}});var e=r(448),t=r.n(e),n=r(5329),a=r(40841),i=r.n(a);const l=()=>"undefined"!=typeof window;var s=r(66820),u=r.n(s);function c(){const e=n.useRef([]);return[n.useCallback((()=>new Promise((t=>e.current.push(t)))),[]),n.useCallback((t=>{e.current.forEach((e=>e(t))),e.current.length=0}),[])]}const p=(e,t)=>{if(e||t)return t?{path:e,fillColor:t,strokeColor:t,fillOpacity:1,scale:.5}:(e=>{if(e&&e.endsWith(".webp"))try{const t=e.match(/media\/[^/]+/)[0].split(".")[1];e=e.replace(/.webp$/,"."+t)}catch(e){}return e})(e)};var d="load",f="message",g="SET_INITIAL_LOCATIONS",m="SET_CENTER",v="CENTER_UPDATED",y="SET_CENTER_FINISHED",M="SET_ZOOM",h="ZOOM_UPDATED",E="SET_ZOOM_FINISHED",b="MARKER_CLICKED",S="MAP_CLICKED",w="GET_MARKERS",C="MARKERS";const O=["longitude","latitude"];function _(e,r,o){let a=o.onUpdateZoom,i=o.onUpdateCenter,s=o.onMarkerClicked,_=o.onMapClicked;const x=c(),k=x[0],N=x[1],j=c(),R=j[0],L=j[1],D=c(),T=D[0],P=D[1],A=(0,n.useState)(!1),G=A[0],I=A[1],U=(0,n.useMemo)((()=>(e=>t()({},e,{locations:e.locations.map((e=>t()({},e,{icon:p(e.pinIcon,e.pinColor)})))}))(r)),[r]),F=function(e,t){void 0===t&&(t=null);const r=(0,n.useRef)(t);return(0,n.useEffect)((()=>{r.current=e}),[e]),r.current}(G?U:null),J={[y]:()=>N(),[v]:e=>null==i?void 0:i(e),[E]:()=>L(),[h]:e=>null==a?void 0:a({zoom:e}),[b]:e=>null==s?void 0:s(t()({type:"markerClicked"},e)),[S]:e=>{let n=e.longitude,r=e.latitude,o=u()(e,O);return null==_?void 0:_(t()({type:"mapClicked",location:{longitude:n,latitude:r}},o))},[C]:e=>P(e)},K={[d]:e=>{(0,e._sendMessage)({type:g,data:JSON.stringify(U)}),I(!0)},[f]:e=>{let t=e.event;if("string"==typeof t.payload){var n;const e=JSON.parse(t.payload),r=e.type,o=e.data;null==(n=J[r])||n.call(J,o)}}},Z=function(e){let t=e.reducer,r=void 0===t?()=>({}):t,o=e.iframeLoaded;const a=(0,n.useRef)([]),i=(0,n.useRef)(void 0),s=(0,n.useRef)(void 0),u=(0,n.useRef)(void 0),c=(0,n.useCallback)((e=>{if(i.current&&o){const t=i.current.contentWindow;return void(null==t||t.postMessage(e,"*"))}if(!i.current||!s.current)return void a.current.push(e);const t=i.current.contentWindow;null==t||t.postMessage(e,"*")}),[o]),p=(0,n.useCallback)((()=>{0!==a.current.length&&(a.current.forEach(c),a.current=[])}),[c]),d=(0,n.useCallback)((e=>{if(u.current&&(u.current(),u.current=void 0),!e)return;const t=()=>{s.current=!0,p(),r({type:"load"},c)};e.addEventListener("load",t),i.current=e,u.current=()=>{e.removeEventListener("load",t)}}),[r,c,p]);return(0,n.useEffect)((()=>{o&&p()}),[o,p]),(0,n.useEffect)((()=>{if(!l())return;const e=e=>{var t;e.source&&e.source!==(null==(t=i.current)?void 0:t.contentWindow)||r({type:"message",payload:e.data},c)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[r,c]),[d,c]}({reducer:(e,t)=>{var n;return null==(n=K[e.type])?void 0:n.call(K,{event:e,_sendMessage:t})}}),W=Z[0],z=Z[1];return(0,n.useImperativeHandle)(e,(()=>({setMapCenter:(e,t)=>{const n=k();return z({type:m,data:JSON.stringify({longitude:e,latitude:t})}),n},setMapZoom:e=>{const t=R();return z({type:M,data:e}),t},getVisibleMarkers:()=>{const e=T();return z({type:w}),e}}))),(0,n.useEffect)((()=>{if(G){const r=!!F&&(e=U.locations,n=F.locations,e.length===n.length&&e.every(((e,t)=>{const r=Object.keys(e);return r.length===Object.keys(n[t]).length&&r.every((r=>e[r]===n[t][r]))})));z(JSON.stringify(t()({},U,{shouldKeepMarkers:r})))}var e,n}),[U,F,z,G]),[W]}var x={GoogleMapSkin:"azCDHJ",googleMapSkin:"azCDHJ",mapContainer:"UXiAup",GoogleMapDefault:"gzNVjA",googleMapDefault:"gzNVjA",GoogleMapSloppy:"FiDpOP",googleMapSloppy:"FiDpOP",brd:"vWE6wc",one:"dj3FJn",two:"W_nooy",GoogleMapLiftedShadow:"e4y5ni",googleMapLiftedShadow:"e4y5ni",shd:"up3Bvs",left:"h0JKNn",right:"uaUROu"};const k={GoogleMapLiftedShadow:()=>n.createElement(n.Fragment,null,n.createElement("div",{className:i()(x.left,x.shd)}),n.createElement("div",{className:i()(x.right,x.shd)})),GoogleMapSloppy:()=>n.createElement(n.Fragment,null,n.createElement("div",{className:i()(x.brd,x.one)}),n.createElement("div",{className:i()(x.brd,x.two)})),GoogleMapSkin:()=>n.createElement(n.Fragment,null),GoogleMapDefault:()=>n.createElement(n.Fragment,null)};var N=r.p+"media/googleMap.4be2d908.html",j=r.p+"media/google-map.min.7bf10e47.js";const R=e=>e.replace("https://static.parastorage.com/services/","https://editor.wix.com/_partials/"),L=(e,r)=>{const o=e.id,a=e.className,s=e.skin,u=e.urlQueries,c=e.mapData,p=e.translate,d=e.onUpdateCenter,f=e.onUpdateZoom,g=e.onMarkerClicked,m=e.onMapClicked,v=e.onMouseEnter,y=e.onMouseLeave,M=e.isDesignerMode,h=k[s],E=((e,t)=>{const n=t?R(j):j,r=new URLSearchParams({googleMapsScriptPath:new URL(n).pathname});return l()&&r.append("origin",window.origin),(t?R(N):N)+"?"+e+"&"+r})(u,M),b=n.useState(!1),S=b[0],w=b[1],C=_(r,c,{onUpdateCenter:d,onUpdateZoom:f,onMarkerClicked:g,onMapClicked:m})[0];n.useEffect((()=>{w(!0)}),[E]);const O=p("component_label","COMPONENT_LABEL_googleMapsTitle","Google Map");return n.createElement("div",t()({id:o},(e=>Object.entries(e).reduce(((e,t)=>{let n=t[0],r=t[1];return n.includes("data-")&&(e[n]=r),e}),{}))(e),{tabIndex:0,className:i()(a,x[s],x.wixIframe)}),S&&n.createElement("wix-iframe",{title:O,"aria-label":O,"data-src":E},n.createElement(h,null),n.createElement("div",{id:"mapContainer_"+o,onMouseEnter:v,onMouseLeave:y,className:x.mapContainer},n.createElement("iframe",{ref:C,title:O,"aria-label":O,"data-src":E,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allowFullScreen:!0}))))};const D={GoogleMap:{component:n.forwardRef(L)}}}(),o}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[GoogleMap].e926f3d2.bundle.min.js.map